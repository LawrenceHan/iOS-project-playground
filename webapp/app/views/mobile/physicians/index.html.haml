= navigation_bar title: t('review.doctor_search')

- unless @hide_search
  #search-bar
    = form_tag mobile_physicians_path, id: 'search-form', method: :get do
      = text_field_tag 'doctor_name', params[:doctor_name], placeholder: t('review.type_doctor_name'),
        class: 'search-field'
      = hidden_field_tag 'lat'
      = hidden_field_tag 'lng'
      - if params[:proceed_to]
        = hidden_field_tag 'proceed_to', params[:proceed_to]
      = action_button '', icon: 'icons-magnifying_glass', type: :button,
        bg: 'dark_cyan', opts: {id: 'search'}

- if @physicians
  #results-count
    = t('review.found') + "#{@physicians.total_count}" + t('review.doctors')
    - if @speciality
      = t('search.physician.specialized_in') + "#{@speciality.name}"
    - if @hospital
      = t('common.in') + "#{@hospital.name}"
      - if @department
        , #{@department.name}

  .search-type-tab.search-physician.clearfix
    - Mobile::SearchHelper::SEARCH_TAB.each do |type, label|
      = link_to label, params.merge(type: type), class: review_type_tab_class(type)

  #results
    = render @physicians


- content_for :javascript do
  :javascript
    $(function() {
      if (#{@has_more ? 'true' : 'false'}) {
        $('#results').loadMore('.physician-list-cell:last');
      }
    });
